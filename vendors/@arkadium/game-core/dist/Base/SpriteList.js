"use strict";
/*!@license
 * Copyright (c) Arkadium Inc - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Denis Gusarov <denis.gusarov@arkadium.com>
 */Object.defineProperty(exports,"__esModule",{value:!0});var Linq_1=require("../Linq/Linq"),IDragonBonesViewConfiguration_1=require("./IDragonBonesViewConfiguration"),Armature_1=require("../dragonBones/armature/Armature"),MovieClip_1=require("../Animate/pixi/MovieClip"),MovieClipContainer_1=require("../Animate/factories/MovieClipContainer"),SpriteItem=function(){};exports.SpriteItem=SpriteItem;var SpriteList=function(){function e(){this.items=new Linq_1.List}return e.prototype.get=function(e){return this[e]},e.prototype.initialize=function(o,a,s){if(a instanceof Armature_1.Armature){var p=new Linq_1.List(a.getSlots());if(o){var e=function(e){var i=o[e];if(i.type&&i.type!=IDragonBonesViewConfiguration_1.SpriteTypeEnum.ARMATURE){if(i.type==IDragonBonesViewConfiguration_1.SpriteTypeEnum.PRIVATE){var t=s[i.slotName];if(t)(r=new SpriteItem).sprite=t,r.name=e,r.textureName=i.slotName,m.items.Add(r),m[e]=t}}else{var r,n=p.FirstOrDefault(function(e){return e.name==i.slotName});if(n)(r=new SpriteItem).sprite=n.display,r.name=e,r.textureName=i.slotName,m.items.Add(r),m[e]=n.display;else console.error(m.constructor.name+": error can't find sprite '"+i.slotName+"' in armature '"+a.name+"'")}},m=this;for(var i in o)e(i)}}else if(a instanceof MovieClip_1.MovieClip||a instanceof MovieClipContainer_1.MovieClipContainer){var t=a,r=s;if(o)for(var i in o){var n=o[i];if(!n.type||n.type==IDragonBonesViewConfiguration_1.SpriteTypeEnum.MOVIECLIP){var u=n.slotName.split("."),f=r._getChild(u,t);if(f&&f instanceof PIXI.Sprite){var l=new SpriteItem;l.sprite=f,l.name=i,l.textureName=n.slotName,this.items.Add(l),this[i]=f}else console.error(this.constructor.name+": error can't find sprite '"+n.slotName+"' in movieClip '"+t.name+"'")}}}else;},e}();exports.SpriteList=SpriteList;