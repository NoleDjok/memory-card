"use strict";
/*!@license
 * Copyright (c) Arkadium Inc - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Denis Gusarov <denis.gusarov@arkadium.com>
 */var __decorate=this&&this.__decorate||function(e,t,r,n){var _,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;0<=o;o--)(_=e[o])&&(i=(s<3?_(i):3<s?_(t,r,i):_(t,r))||i);return 3<s&&i&&Object.defineProperty(t,r,i),i},__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),_=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,_++)n[_]=s[i];return n};Object.defineProperty(exports,"__esModule",{value:!0});var typescript_ioc_1=require("../../IoC/typescript-ioc");exports.makeModelEventEmitter=function(e,t){e.__$__allowedEvents_=t,e.__$__modelEventsReady_=!0,e.__$on=function(e,t,r){this.__$eventListeners_=this.__$eventListeners_||{},this.__$eventListeners_[e]=this.__$eventListeners_[e]||[],this.__$eventListeners_[e].push({callback:t,context:r})},e.__$off=function(e,t){this.__$eventListeners_=this.__$eventListeners_||{};for(var r=this.__$eventListeners_[e]||[],n=0;n<r.length;n++)if(r[n].callback===t)return void r.splice(n,1)},e.__$trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.__$eventListeners_=this.__$eventListeners_||{};for(var n=this.__$eventListeners_[e]||[],_=0;_<n.length;_++)n[_].callback.apply(n[_].context,Array.prototype.slice.call(arguments,1))}};var ModelEvents=function(){function e(){}return e.prototype.dispatch=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.trigger.apply(this,__spreadArrays([e,t],r))},e.prototype.on=function(e,t,r,n){e.__$eventListeners_=e.__$eventListeners_||{},e.__$eventListeners_[t]=e.__$eventListeners_[t]||[],e.__$eventListeners_[t].push({callback:r,context:n})},e.prototype.off=function(e,t,r){e.__$eventListeners_=e.__$eventListeners_||{};for(var n=e.__$eventListeners_[t]||[],_=0;_<n.length;_++)if(n[_].callback===r)return void n.splice(_,1)},e.prototype.trigger=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e.__$eventListeners_=e.__$eventListeners_||{};for(var _=e.__$eventListeners_[t]||[],s=0;s<_.length;s++)_[s].callback.apply(_[s].context,Array.prototype.slice.call(arguments,2))},e=__decorate([typescript_ioc_1.Singleton],e)}();exports.ModelEvents=ModelEvents;