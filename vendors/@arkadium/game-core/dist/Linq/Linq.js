"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var List=function(){function e(t){void 0===t&&(t=[]),this._elements=t}return e.prototype.Add=function(t){this._elements.push(t)},e.prototype.AddRange=function(t){var e;(e=this._elements).push.apply(e,t)},e.prototype.Aggregate=function(t,e){return this._elements.reduce(t,e)},e.prototype.All=function(t){return this._elements.every(t)},e.prototype.Any=function(t){return this._elements.some(t)},e.prototype.Average=function(t){return this.Sum(t)/this.Count(t)},e.prototype.Concat=function(t){return new e(this._elements.concat(t.ToArray()))},e.prototype.Contains=function(e){return this._elements.some(function(t){return t===e})},e.prototype.Count=function(t){return t?this.Where(t).Count():this._elements.length},e.prototype.DefaultIfEmpty=function(t){return this.Count()?this:new e([t])},e.prototype.Distinct=function(){return this.Where(function(t,e,n){return n.indexOf(t)===e})},e.prototype.ElementAt=function(t){return this._elements[t]},e.prototype.ElementAtOrDefault=function(t){return this.ElementAt(t)||void 0},e.prototype.Except=function(e){return this.Where(function(t){return!e.Contains(t)})},e.prototype.First=function(t){return t?this.Where(t).First():this._elements[0]},e.prototype.FirstOrDefault=function(t){return this.Count()?this.First(t):void 0},e.prototype.ForEach=function(t){return this._elements.forEach(t)},e.prototype.GroupBy=function(n,r){return this.Aggregate(function(t,e){return t[n(e)]?t[n(e)].push(r(e)):t[n(e)]=[r(e)],t},{})},e.prototype.GroupJoin=function(n,r,o,i){return this.Select(function(e,t){return i(e,n.Where(function(t){return r(e)===o(t)}))})},e.prototype.IndexOf=function(t){return this._elements.indexOf(t)},e.prototype.Insert=function(t,e){if(t<0||t>this._elements.length)throw new TypeError("Index is out of range.");this._elements.splice(t,0,e)},e.prototype.Intersect=function(e){return this.Where(function(t){return e.Contains(t)})},e.prototype.Join=function(t,n,r,o){return this.SelectMany(function(e){return t.Where(function(t){return r(t)===n(e)}).Select(function(t){return o(e,t)})})},e.prototype.Last=function(t){return t?this.Where(t).Last():this._elements[this.Count()-1]},e.prototype.LastOrDefault=function(t){return this.Count()?this.Last(t):void 0},e.prototype.Max=function(){return this.Aggregate(function(t,e){return e<t?t:e})},e.prototype.Min=function(){return this.Aggregate(function(t,e){return t<e?t:e})},e.prototype.OrderBy=function(t){return new OrderedList(this._elements,ComparerHelper.ComparerForKey(t,!1))},e.prototype.OrderByDescending=function(t){return new OrderedList(this._elements,ComparerHelper.ComparerForKey(t,!0))},e.prototype.ThenBy=function(t){return this.OrderBy(t)},e.prototype.ThenByDescending=function(t){return this.OrderByDescending(t)},e.prototype.Remove=function(t){return-1!==this.IndexOf(t)&&(this.RemoveAt(this.IndexOf(t)),!0)},e.prototype.RemoveAll=function(t){return this.Where(this._negate(t))},e.prototype.RemoveAt=function(t){this._elements.splice(t,1)},e.prototype.Reverse=function(){return new e(this._elements.reverse())},e.prototype.Select=function(t){return new e(this._elements.map(t))},e.prototype.SelectMany=function(r){var o=this;return this.Aggregate(function(t,e,n){return t.AddRange(o.Select(r).ElementAt(n).ToArray()),t},new e)},e.prototype.SequenceEqual=function(r){return!!this._elements.reduce(function(t,e,n){return r._elements[n]===e?t:void 0})},e.prototype.Single=function(){if(1!==this.Count())throw new TypeError("The collection does not contain exactly one element.");return this.First()},e.prototype.SingleOrDefault=function(){return this.Count()?this.Single():void 0},e.prototype.Skip=function(t){return new e(this._elements.slice(Math.max(0,t)))},e.prototype.SkipWhile=function(n){var r=this;return this.Skip(this.Aggregate(function(t,e){return n(r.ElementAt(t))?++t:t},0))},e.prototype.Sum=function(t){return t?this.Select(t).Sum():this.Aggregate(function(t,e){return t+ +e},0)},e.prototype.Take=function(t){return new e(this._elements.slice(0,Math.max(0,t)))},e.prototype.TakeWhile=function(n){var r=this;return this.Take(this.Aggregate(function(t,e){return n(r.ElementAt(t))?++t:t},0))},e.prototype.ToArray=function(){return this._elements},e.prototype.ToDictionary=function(r,o){var i=this;return this.Aggregate(function(t,e,n){return t[i.Select(r).ElementAt(n)]=o?i.Select(o).ElementAt(n):e,t},{})},e.prototype.ToList=function(){return this},e.prototype.ToLookup=function(t,e){return this.GroupBy(t,e)},e.prototype.Union=function(t){return this.Concat(t).Distinct()},e.prototype.Where=function(t){return new e(this._elements.filter(t))},e.prototype.Zip=function(n,r){var o=this;return n.Count()<this.Count()?n.Select(function(t,e){return r(o.ElementAt(e),t)}):this.Select(function(t,e){return r(t,n.ElementAt(e))})},e.prototype.Shuffle=function(t){for(var e,n,r=this._elements.length;0!==r;)n=Math.floor(t.random()*r),r-=1,e=this._elements[r],this._elements[r]=this._elements[n],this._elements[n]=e},e.prototype._negate=function(t){return function(){return!t.apply(this,arguments)}},e}();exports.List=List;var ComparerHelper=function(){function o(){}return o.ComparerForKey=function(n,r){return function(t,e){return o.Compare(t,e,n,r)}},o.Compare=function(t,e,n,r){var o=n(t),i=n(e);return i<o?r?-1:1:o<i?r?1:-1:0},o.ComposeComparers=function(r,o){return function(t,e){var n=r(t,e);return n||o(t,e)}},o}(),OrderedList=function(r){function e(t,e){var n=r.call(this,t)||this;return n._comparer=e,n._elements.sort(n._comparer),n}return __extends(e,r),e.prototype.ThenBy=function(t){return new e(this._elements,ComparerHelper.ComposeComparers(this._comparer,ComparerHelper.ComparerForKey(t,!1)))},e.prototype.ThenByDescending=function(t){return new e(this._elements,ComparerHelper.ComposeComparers(this._comparer,ComparerHelper.ComparerForKey(t,!0)))},e}(List),Enumerable=function(){function t(){}return t.Range=function(t,e){for(var n=new List;e--;)n.Add(t++);return n},t.Repeat=function(t,e){for(var n=new List;e--;)n.Add(t);return n},t}();exports.Enumerable=Enumerable;