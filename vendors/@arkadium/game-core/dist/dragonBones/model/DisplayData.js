"use strict";var __extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var BaseObject_1=require("../core/BaseObject"),Point_1=require("../geom/Point"),Transform_1=require("../geom/Transform"),GeometryData=function(){function t(){this.weight=null}return t.prototype.clear=function(){this.isShared||null===this.weight||this.weight.returnToPool(),this.isShared=!1,this.inheritDeform=!1,this.offset=0,this.data=null,this.weight=null},t.prototype.shareFrom=function(t){this.isShared=!0,this.offset=t.offset,this.weight=t.weight},Object.defineProperty(t.prototype,"vertexCount",{get:function(){return this.data.intArray[this.offset+0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triangleCount",{get:function(){return this.data.intArray[this.offset+1]},enumerable:!0,configurable:!0}),t}();exports.GeometryData=GeometryData;var DisplayData=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transform=new Transform_1.Transform,t}return __extends(t,e),t.prototype._onClear=function(){this.name="",this.path="",this.transform.identity(),this.parent=null},t}(BaseObject_1.BaseObject),ImageDisplayData=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pivot=new Point_1.Point,t}return __extends(t,e),t.toString=function(){return"[class dragonBones.ImageDisplayData]"},t.prototype._onClear=function(){e.prototype._onClear.call(this),this.type=0,this.pivot.clear(),this.texture=null},t}(exports.DisplayData=DisplayData);exports.ImageDisplayData=ImageDisplayData;var ArmatureDisplayData=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.actions=[],t}return __extends(t,n),t.toString=function(){return"[class dragonBones.ArmatureDisplayData]"},t.prototype._onClear=function(){n.prototype._onClear.call(this);for(var t=0,e=this.actions;t<e.length;t++){e[t].returnToPool()}this.type=1,this.inheritAnimation=!1,this.actions.length=0,this.armature=null},t.prototype.addAction=function(t){this.actions.push(t)},t}(DisplayData);exports.ArmatureDisplayData=ArmatureDisplayData;var MeshDisplayData=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.geometry=new GeometryData,t}return __extends(t,e),t.toString=function(){return"[class dragonBones.MeshDisplayData]"},t.prototype._onClear=function(){e.prototype._onClear.call(this),this.type=2,this.geometry.clear(),this.texture=null},t}(DisplayData);exports.MeshDisplayData=MeshDisplayData;var BoundingBoxDisplayData=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundingBox=null,t}return __extends(t,e),t.toString=function(){return"[class dragonBones.BoundingBoxDisplayData]"},t.prototype._onClear=function(){e.prototype._onClear.call(this),null!==this.boundingBox&&this.boundingBox.returnToPool(),this.type=3,this.boundingBox=null},t}(DisplayData);exports.BoundingBoxDisplayData=BoundingBoxDisplayData;var PathDisplayData=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.geometry=new GeometryData,t.curveLengths=[],t}return __extends(t,e),t.toString=function(){return"[class dragonBones.PathDisplayData]"},t.prototype._onClear=function(){e.prototype._onClear.call(this),this.type=4,this.closed=!1,this.constantSpeed=!1,this.geometry.clear(),this.curveLengths.length=0},t}(DisplayData);exports.PathDisplayData=PathDisplayData;var WeightData=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bones=[],t}return __extends(t,e),t.toString=function(){return"[class dragonBones.WeightData]"},t.prototype._onClear=function(){this.count=0,this.offset=0,this.bones.length=0},t.prototype.addBone=function(t){this.bones.push(t)},t}(BaseObject_1.BaseObject);exports.WeightData=WeightData;