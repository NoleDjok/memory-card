"use strict";
/*!@license
 * Copyright (c) Arkadium Inc - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Denis Gusarov <denis.gusarov@arkadium.com>
 */Object.defineProperty(exports,"__esModule",{value:!0});var GLOBAL_MAP={x:"X",y:"Y",sx:"A",sy:"B",kx:"C",ky:"D",r:"R",a:"L",t:"T",c:"F",v:"V",placeAfter:"P",maskTill:"M"},Frame=function(){function r(){this.a=null,this.c=[1,0,1,0,1,0],this.a=null,this.t=null,this.c=[1,0,1,0,1,0],this.x=null,this.y=null,this.sx=null,this.sy=null,this.kx=null,this.ky=null,this.r=null,this.v=null,this.bounds=null}return r.prototype.addCommand=function(t){t.toFrame(this)},Object.defineProperty(r.prototype,"hasValues",{get:function(){for(var t in GLOBAL_MAP)if(null!==this[t])return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"validKeys",{get:function(){var t=[];for(var n in GLOBAL_MAP)null!==this[n]&&t.push(n);return t},enumerable:!0,configurable:!0}),r.prototype.clean=function(t){for(var n in GLOBAL_MAP)-1==t.indexOf(n)&&(this[n]=null)},r.prototype.render=function(t){var n=this.toTransform();if(n.length&&(t.setTransform=function(){var t;(t=this.instance).setTransform.apply(t,n)}),null!==this.a&&this.a<1){var r=this.a;t.setAlpha=function(){this.instance.setAlpha(r)}}if(null!==this.t&&"0xfff"!=this.t){var i=this.t;t.setTint=function(){this.instance.setTint(parseInt(i,16))}}else if(this.c&&!this.isDefaultColorTransform(this.c)){var s=this.c;t.setColorTransform=function(){var t;(t=this.instance).setColorTransform.apply(t,s)}}},r.prototype.isDefaultColorTransform=function(t){for(var n=0;n<t.length;n++)if(t[n]!==r.DEFAULT_VALUES.c[n])return!1;return!0},r.prototype.toTransform=function(){for(var t=[0,0,1,1,0,0,0],n=[this.x,this.y,this.sx,this.sy,this.r,this.kx,this.ky],r=0,i=t.length-1;0<=i&&n[i]==t[i];i--)r++;return 0<r&&r<=n.length&&n.splice(n.length-r,r),n},r.prototype.toJSON=function(){var t={};for(var n in GLOBAL_MAP)null!==this[n]&&(t[n]=this[n]);return t},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},r.DEFAULT_VALUES={c:[1,0,1,0,1,0],a:1,r:0,x:0,y:0,sx:1,sy:1,kx:0,ky:0,v:1,placeAfter:null,maskTill:null},r}();exports.Frame=Frame;