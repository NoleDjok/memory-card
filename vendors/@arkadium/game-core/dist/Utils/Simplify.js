"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Simplify=function(){function t(){}return t.prototype.getSqDist=function(t,i){var e=t.x-i.x,r=t.y-i.y;return e*e+r*r},t.prototype.getSqSegDist=function(t,i,e){var r=i.x,p=i.y,s=e.x-r,o=e.y-p;if(0!==s||0!==o){var n=((t.x-r)*s+(t.y-p)*o)/(s*s+o*o);1<n?(r=e.x,p=e.y):0<n&&(r+=s*n,p+=o*n)}return(s=t.x-r)*s+(o=t.y-p)*o},t.prototype.simplifyRadialDist=function(t,i){for(var e,r=t[0],p=[r],s=1,o=t.length;s<o;s++)e=t[s],this.getSqDist(e,r)>i&&(p.push(e),r=e);return r!==e&&p.push(e),p},t.prototype.simplifyDPStep=function(t,i,e,r,p){for(var s,o=r,n=i+1;n<e;n++){var u=this.getSqSegDist(t[n],t[i],t[e]);o<u&&(s=n,o=u)}r<o&&(1<s-i&&this.simplifyDPStep(t,i,s,r,p),p.push(t[s]),1<e-s&&this.simplifyDPStep(t,s,e,r,p))},t.prototype.simplifyDouglasPeucker=function(t,i){var e=t.length-1,r=[t[0]];return this.simplifyDPStep(t,0,e,i,r),r.push(t[e]),r},t.prototype.simplify=function(t,i,e){if(t.length<=2)return t;var r=void 0!==i?i*i:1;return t=e?t:this.simplifyRadialDist(t,r),t=this.simplifyDouglasPeucker(t,r)},t}();exports.Simplify=Simplify;