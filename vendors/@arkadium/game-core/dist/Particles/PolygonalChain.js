"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PolygonalChain=function(){function t(t){this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(t)}return t.prototype.init=function(t){if(t&&t.length)if(Array.isArray(t[0]))for(var s=0;s<t.length;++s)for(var e=t[s],n=e[0],h=1;h<e.length;++h){var i=e[h];this.segments.push({p1:n,p2:i,l:0}),n=i}else for(n=t[0],s=1;s<t.length;++s){i=t[s];this.segments.push({p1:n,p2:i,l:0}),n=i}else this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});for(s=0;s<this.segments.length;++s){var g=this.segments[s],o=g.p1,r=g.p2,l=Math.sqrt((r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y));this.segments[s].l=l,this.totalLength+=l,this.countingLengths.push(this.totalLength)}},t.prototype.getRandomPoint=function(t){var s,e,n=Math.random()*this.totalLength;if(1===this.segments.length)s=this.segments[0],e=n;else for(var h=0;h<this.countingLengths.length;++h)if(n<this.countingLengths[h]){s=this.segments[h],e=0===h?n:n-this.countingLengths[h-1];break}e/=s.l||1;var i=s.p1,g=s.p2;t.x=i.x+e*(g.x-i.x),t.y=i.y+e*(g.y-i.y)},t}();exports.PolygonalChain=PolygonalChain;